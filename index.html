<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯ | Cyber OS V2</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Orbitron:wght@500;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f3ff;
            --secondary: #ff0055;
            --bg-dark: #050508;
            --card-bg: rgba(15, 15, 25, 0.95);
            --border: rgba(0, 243, 255, 0.2);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        body {
            margin: 0; background: var(--bg-dark); color: #fff;
            font-family: 'Cairo', sans-serif; overflow: hidden; height: 100vh;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ */
        nav {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%);
            background: rgba(20, 20, 35, 0.8); backdrop-filter: blur(20px);
            padding: 12px 30px; border-radius: 40px; border: 1px solid var(--border);
            display: flex; gap: 25px; z-index: 1000; box-shadow: 0 0 30px rgba(0,0,0,0.8);
        }

        nav a { color: #666; text-decoration: none; font-weight: bold; transition: 0.3s; padding: 5px 15px; }
        nav a.active { color: var(--primary); text-shadow: 0 0 10px var(--primary); }

        .page { display: none; height: 100vh; padding: 20px; animation: fadeIn 0.4s ease; overflow-y: auto; }
        .page.active { display: flex; flex-direction: column; align-items: center; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
        .calc-box {
            background: #10101a; padding: 25px; border-radius: 35px;
            border: 2px solid var(--border); width: 100%; max-width: 340px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
        }

        .calc-screen {
            background: #000; height: 100px; border-radius: 20px;
            margin-bottom: 20px; padding: 20px; text-align: left;
            display: flex; flex-direction: column; justify-content: center;
        }

        #calc-display { 
            font-family: 'Orbitron', sans-serif; color: var(--primary); 
            font-size: 1.8rem; overflow: hidden; text-overflow: ellipsis;
        }

        .calc-btns { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
        .btn {
            height: 60px; border-radius: 15px; border: none; background: #1a1a2e;
            color: #fff; font-size: 1.2rem; cursor: pointer; transition: 0.2s;
        }
        .btn:active { background: var(--primary); color: #000; }
        .btn.op { color: var(--secondary); background: rgba(255, 0, 85, 0.05); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø·ÙˆØ±Ø© */
        .arcade-wrapper {
            width: 100%; max-width: 450px; background: #000;
            border-radius: 30px; border: 2px solid var(--primary);
            position: relative; aspect-ratio: 9/16; overflow: hidden;
        }

        canvas { width: 100%; height: 100%; display: block; }

        .overlay {
            position: absolute; inset: 0; background: rgba(0,0,0,0.9);
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100;
        }

        .game-btn {
            background: none; border: 1px solid var(--primary); color: #fff;
            padding: 15px 40px; border-radius: 50px; margin: 10px; cursor: pointer;
            width: 220px; font-family: 'Orbitron'; transition: 0.3s;
        }

        .game-btn:hover { background: var(--primary); color: #000; }

        /* ØªØ­ÙƒÙ… Ø§Ù„Ù‡Ø§ØªÙ */
        .mobile-controls {
            position: absolute; bottom: 20px; width: 100%;
            display: none; justify-content: space-between; padding: 0 30px;
        }

        .joy-btn {
            width: 70px; height: 70px; background: rgba(255,255,255,0.05);
            border: 2px solid var(--border); border-radius: 50%;
            color: #fff; font-size: 1.5rem; display: flex; align-items: center; justify-content: center;
        }

        .fire-btn {
            width: 85px; height: 85px; background: var(--secondary);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px var(--secondary);
        }
    </style>
</head>
<body>

    <nav>
        <a href="#" onclick="showPage('home')" id="l-home" class="active">Ø£Ù†Ø§</a>
        <a href="#" onclick="showPage('calc')" id="l-calc">Ø­Ø§Ø³Ø¨Ø©</a>
        <a href="#" onclick="showPage('game')" id="l-game">Ø£Ø±ÙƒÙŠØ¯</a>
    </nav>

    <section id="home" class="page active">
        <h1 style="font-family:'Orbitron'; color: var(--primary); margin-top: 50px;">ALI MOHAMED</h1>
        <p style="color: #666;">Ù…Ø¨Ø±Ù…Ø¬ Ù…ÙˆØ§Ù‚Ø¹ Ù…Ø¨ØªØ¯Ø¦ | ÙˆØ§Ø¬Ù‡Ø© Cyber OS V2</p>
        <div style="background: var(--card-bg); padding: 25px; border-radius: 20px; border: 1px solid var(--border); margin-top: 20px; max-width: 400px; text-align: center;">
            <h3>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ</h3>
            <p>Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù‡Ùˆ Ø¹Ø±Ø¶ Ù„Ù…Ù‡Ø§Ø±Ø§ØªÙŠ ÙÙŠ JavaScript ÙˆØªØµÙ…ÙŠÙ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±.</p>
        </div>
    </section>

    <section id="calc" class="page">
        <h2 style="font-family:'Orbitron'; color: var(--secondary);">CALCULATOR</h2>
        <div class="calc-box">
            <div class="calc-screen">
                <div id="calc-display">0</div>
            </div>
            <div class="calc-btns">
                <button class="btn op" onclick="cClear()">AC</button>
                <button class="btn op" onclick="cDel()">DEL</button>
                <button class="btn op" onclick="cIn('%')">%</button>
                <button class="btn op" onclick="cIn('/')">Ã·</button>
                <button class="btn" onclick="cIn('7')">7</button>
                <button class="btn" onclick="cIn('8')">8</button>
                <button class="btn" onclick="cIn('9')">9</button>
                <button class="btn op" onclick="cIn('*')">Ã—</button>
                <button class="btn" onclick="cIn('4')">4</button>
                <button class="btn" onclick="cIn('5')">5</button>
                <button class="btn" onclick="cIn('6')">6</button>
                <button class="btn op" onclick="cIn('-')">-</button>
                <button class="btn" onclick="cIn('1')">1</button>
                <button class="btn" onclick="cIn('2')">2</button>
                <button class="btn" onclick="cIn('3')">3</button>
                <button class="btn op" onclick="cIn('+')">+</button>
                <button class="btn" style="grid-column: span 2;" onclick="cIn('0')">0</button>
                <button class="btn" onclick="cIn('.')">.</button>
                <button class="btn" style="background: var(--primary); color: #000;" onclick="cRes()">=</button>
            </div>
        </div>
    </section>

    <section id="game" class="page">
        <div class="arcade-wrapper">
            <div id="menu" class="overlay">
                <h1 style="font-family:'Orbitron'; color: var(--primary);">CYBER ARCADE</h1>
                <button class="game-btn" onclick="gStart(1)">âš½ SOCCER</button>
                <button class="game-btn" onclick="gStart(3)">ğŸï¸ DRIFT</button>
                <button class="game-btn" onclick="gStart(4)">ğŸ›¸ INVADE</button>
                <p style="font-size: 0.8rem; color: #444; margin-top: 20px;">Ø§Ù„Ø£Ø³Ù‡Ù… Ù„Ù„ØªØ­Ø±Ùƒ | Space Ù„Ù„Ø¥Ø·Ù„Ø§Ù‚</p>
            </div>

            <div id="over" class="overlay" style="display: none;">
                <h2 style="color: var(--secondary);">GAMEOVER</h2>
                <h1 id="f-score" style="font-family: 'Orbitron';">0</h1>
                <button class="game-btn" onclick="gStart(current)">RETRY</button>
                <button class="game-btn" onclick="resetUI()">MENU</button>
            </div>

            <canvas id="canvas"></canvas>

            <div id="controls" class="mobile-controls">
                <div style="display: flex; gap: 15px;">
                    <div class="joy-btn" id="m-left">â—€</div>
                    <div class="joy-btn" id="m-right">â–¶</div>
                </div>
                <div class="fire-btn" id="m-fire">ğŸ”¥</div>
            </div>
        </div>
    </section>

    <script>
        // --- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙØ­Ø§Øª ---
        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('l-'+id).classList.add('active');
            gameActive = false;
        }

        // --- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© (Ù…Ø¹ Ù…ÙŠØ²Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·ÙˆÙŠÙ„Ø©) ---
        const display = document.getElementById('calc-display');
        function cIn(v) { 
            if(display.innerText === '0') display.innerText = v; 
            else display.innerText += v; 
        }
        function cClear() { display.innerText = '0'; }
        function cDel() { display.innerText = display.innerText.slice(0, -1) || '0'; }
        
        function cRes() {
            try {
                let result = eval(display.innerText.replace('Ã·','/').replace('Ã—','*'));
                // Ø§Ø®ØªØµØ§Ø± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ±Ù…ÙŠØ² Ø§Ù„Ø¹Ù„Ù…ÙŠ
                if(result.toString().length > 10) {
                    display.innerText = result.toExponential(4);
                } else {
                    display.innerText = result;
                }
            } catch { display.innerText = 'Error'; }
        }

        // --- Ù…Ø­Ø±Ùƒ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ·ÙˆØ± ---
        const cvs = document.getElementById('canvas');
        const ctx = cvs.getContext('2d');
        let w, h, current, score = 0, gameActive = false, frame = 0;
        let player = {x:0, y:0}, objs = [], shots = [];
        let left = false, right = false;

        function gStart(id) {
            w = cvs.width = cvs.offsetWidth;
            h = cvs.height = cvs.offsetHeight;
            current = id; score = 0; gameActive = true; frame = 0; objs = []; shots = [];
            player = {x: w/2-30, y: h-120};
            document.getElementById('menu').style.display = 'none';
            document.getElementById('over').style.display = 'none';
            if('ontouchstart' in window) document.getElementById('controls').style.display = 'flex';
            if(id === 1) objs.push({x: w/2, y: h/2, vx: 3, vy: 3});
            loop();
        }

        // ØªØ­ÙƒÙ… Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± (Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­)
        window.addEventListener('keydown', e => {
            if(e.key === 'ArrowLeft') left = true;
            if(e.key === 'ArrowRight') right = true;
            if(e.key === ' ') fire();
        });
        window.addEventListener('keyup', e => {
            if(e.key === 'ArrowLeft') left = false;
            if(e.key === 'ArrowRight') right = false;
        });

        // ØªØ­ÙƒÙ… Ø§Ù„Ù‡Ø§ØªÙ (Ù„Ù…Ø³)
        const bind = (id, fn) => {
            const el = document.getElementById(id);
            el.ontouchstart = (e) => { e.preventDefault(); fn(true); };
            el.ontouchend = (e) => { e.preventDefault(); fn(false); };
        };
        bind('m-left', v => left = v);
        bind('m-right', v => right = v);
        document.getElementById('m-fire').ontouchstart = (e) => { e.preventDefault(); fire(); };

        function fire() {
            if(!gameActive) return;
            if(current === 1) { 
                let b = objs[0]; 
                if(Math.hypot(player.x+30-b.x, player.y-b.y) < 100) b.vy = -10; 
            } else {
                shots.push({x: player.x+30, y: player.y});
            }
        }

        function loop() {
            if(!gameActive) return;
            frame++;
            ctx.fillStyle = '#050508'; ctx.fillRect(0,0,w,h);
            
            if(left && player.x > 0) player.x -= 7;
            if(right && player.x < w-60) player.x += 7;

            // Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù†ÙŠÙˆÙ†
            ctx.fillStyle = `hsl(${frame%360}, 100%, 50%)`;
            ctx.shadowBlur = 15; ctx.shadowColor = ctx.fillStyle;
            ctx.fillRect(player.x, player.y, 60, 15);
            ctx.shadowBlur = 0;

            if(current === 3) { // Drift Game
                if(frame % 40 === 0) objs.push({x: Math.random()*(w-40), y: -50});
                objs.forEach((o, i) => {
                    o.y += 8; ctx.fillStyle = varColor(o.y); ctx.fillRect(o.x, o.y, 30, 60);
                    if(o.y > h) { objs.splice(i,1); score+=10; }
                    if(player.x < o.x+30 && player.x+60 > o.x && player.y < o.y+60 && player.y+15 > o.y) die();
                });
            }

            if(current === 4) { // Invade Game
                if(frame % 60 === 0) objs.push({x: Math.random()*(w-50), y: -50});
                objs.forEach((u, i) => {
                    u.y += 4; ctx.fillStyle = '#fff'; ctx.fillRect(u.x, u.y, 45, 20);
                    shots.forEach((s, j) => {
                        if(s.x > u.x && s.x < u.x+45 && s.y < u.y+20) { objs.splice(i,1); shots.splice(j,1); score+=25; }
                    });
                    if(u.y > h) die();
                });
            }

            shots.forEach((s, i) => {
                s.y -= 12; ctx.fillStyle = varColor(s.y); ctx.fillRect(s.x-2, s.y, 4, 15);
                if(s.y < 0) shots.splice(i,1);
            });

            ctx.fillStyle = '#fff'; ctx.font = '20px Orbitron'; ctx.fillText(score, 20, 40);
            requestAnimationFrame(loop);
        }

        function die() {
            gameActive = false;
            document.getElementById('over').style.display = 'flex';
            document.getElementById('f-score').innerText = score;
            document.getElementById('controls').style.display = 'none';
        }

        function resetUI() {
            document.getElementById('over').style.display = 'none';
            document.getElementById('menu').style.display = 'flex';
        }

        function varColor(f) { return `hsl(${f % 360}, 100%, 65%)`; }
    </script>
</body>
</html>
